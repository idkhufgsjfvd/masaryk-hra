<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <title>Chcete být milionářem – T. G. Masaryk</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    #question {
      font-size: 24px;
      margin: 20px;
    }
    .answer {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      background-color: #ddd;
      border: none;
      cursor: pointer;
      font-size: 18px;
      width: 300px;
    }
    .answer:hover {
      background-color: #bbb;
    }
    #hearts {
      margin: 20px;
    }
    .heart {
      width: 30px;
      vertical-align: middle;
    }
    #fiftyButton {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 18px;
      padding: 10px 20px;
    }
    .side-image {
      position: absolute;
      top: 100px;
      width: 120px;
    }
    #left-image {
      left: 10px;
    }
    #right-image {
      right: 10px;
    }
  </style>
</head>
<body>
  <img src="masaryk.png" class="side-image" id="left-image" />
  <img src="masaryk2.png" class="side-image" id="right-image" />
  <div id="hearts">
    <img src="heart.png" class="heart" id="heart1" />
    <img src="heart.png" class="heart" id="heart2" />
    <img src="heart.png" class="heart" id="heart3" />
  </div>
  <div id="question"></div>
  <div id="answers"></div>
  <button id="fiftyButton">50 na 50</button>

  <audio id="correctSound" src="correct.mp3"></audio>
  <audio id="wrongSound" src="wrong.mp3"></audio>
  <audio id="winSound" src="win.mp3"></audio>
  <audio id="lostSound" src="lost.mp3"></audio>

  <script>
    const questions = [
      {
        question: "Kde se T. G. Masaryk narodil?",
        answers: ["Praha", "Brno", "Hodonín", "Olomouc"],
        correct: 2
      },
      {
        question: "Kým byl Masaryk povoláním?",
        answers: ["Lékař", "Prezident", "Hudebník", "Herec"],
        correct: 1
      },
      {
        question: "Kde se nachází letní sídlo Masaryka?",
        answers: ["Lány", "Zlín", "Kroměříž", "Strážnice"],
        correct: 0
      },
      {
        question: "Kolik dětí měl Masaryk?",
        answers: ["2", "5", "4", "3"],
        correct: 1
      },
      {
        question: "Kdo přestavoval Pražský hrad za Masaryka?",
        answers: ["Gočár", "Kaplický", "Plečnik", "Kotěra"],
        correct: 2
      },
      {
        question: "Proti čemu Masaryk bojoval v Hilsneriádě?",
        answers: ["Rasismu", "Antisemitismu", "Fašismu", "Monarchii"],
        correct: 1
      },
      {
        question: "Kdy se T. G. Masaryk narodil?",
        answers: ["7. března 1850", "14. září 1937", "28. října 1918", "1. ledna 1900"],
        correct: 0
      },
      {
        question: "Jak se jmenoval Masarykův syn?",
        answers: ["Herbert", "Josef", "Antonín", "Pavel"],
        correct: 0
      },
      {
        question: "Kde T. G. Masaryk zemřel?",
        answers: ["Praha", "Brno", "Lány", "Vídeň"],
        correct: 2
      },
      {
        question: "Který řád Masaryk obdržel v roce 1925?",
        answers: ["Řád bílého lva", "Řád slona", "Řád TGM", "Řád sv. Václava"],
        correct: 1
      }
    ];

    let currentQuestion = 0;
    let lives = 3;
    let fiftyUsed = false;

    const questionDiv = document.getElementById("question");
    const answersDiv = document.getElementById("answers");
    const hearts = [
      document.getElementById("heart1"),
      document.getElementById("heart2"),
      document.getElementById("heart3")
    ];

    const correctSound = document.getElementById("correctSound");
    const wrongSound = document.getElementById("wrongSound");
    const winSound = document.getElementById("winSound");
    const lostSound = document.getElementById("lostSound");
    const fiftyButton = document.getElementById("fiftyButton");

    function showQuestion() {
      const q = questions[currentQuestion];
      questionDiv.textContent = q.question;
      answersDiv.innerHTML = "";

      q.answers.forEach((answer, index) => {
        const btn = document.createElement("button");
        btn.textContent = answer;
        btn.className = "answer";
        btn.onclick = () => checkAnswer(index);
        answersDiv.appendChild(btn);
      });
    }

    function checkAnswer(selectedIndex) {
      const correctIndex = questions[currentQuestion].correct;
      if (selectedIndex === correctIndex) {
        correctSound.play();
      } else {
        wrongSound.play();
        lives--;
        updateHearts();
      }

      if (lives === 0) {
        questionDiv.textContent = "Prohrál jsi!";
        answersDiv.innerHTML = "";
        fiftyButton.style.display = "none";
        lostSound.play();
        return;
      }

      currentQuestion++;
      if (currentQuestion >= questions.length) {
        questionDiv.textContent = "Vyhrál jsi!";
        answersDiv.innerHTML = "";
        fiftyButton.style.display = "none";
        winSound.play();
        return;
      }

      showQuestion();
    }

    function updateHearts() {
      for (let i = 0; i < hearts.length; i++) {
        hearts[i].style.visibility = i < lives ? "visible" : "hidden";
      }
    }

    fiftyButton.onclick = () => {
      if (fiftyUsed) return;
      fiftyUsed = true;
      fiftyButton.style.display = "none";

      const correctIndex = questions[currentQuestion].correct;
      const buttons = document.querySelectorAll(".answer");
      let removed = 0;

      const indices = [];
      for (let i = 0; i < buttons.length; i++) {
        if (i !== correctIndex) indices.push(i);
      }

      // Shuffle and keep one wrong
      indices.sort(() => 0.5 - Math.random());
      const toRemove = indices.slice(1);

      toRemove.forEach(i => {
        buttons[i].style.display = "none";
      });
    };

    showQuestion();
  </script>
</body>
</html>
